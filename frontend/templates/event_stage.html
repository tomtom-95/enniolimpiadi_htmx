<div class="event-stages-panel" id="stage-content">
    <div class="stage-nav">
        {% if stage_order > 1 %}
            <button class="stage-arrow"
                hx-get="/api/events/{{ event_id }}/stage/{{ stage_order - 1 }}"
                hx-target="#stage-content"
                hx-swap="outerHTML transition:true"
                _="on click add .slide-back to <html/>">
                &#8592;
            </button>
        {% else %}
            <button class="stage-arrow" disabled>&#8592;</button>
        {% endif %}
        <span class="stage-indicator">
            {{ stage.name }} ({{ stage_order }}/{{ total_stages }})
        </span>
        {% if stage_order < total_stages %}
            <button class="stage-arrow"
                hx-get="/api/events/{{ event_id }}/stage/{{ stage_order + 1 }}"
                hx-target="#stage-content"
                hx-swap="outerHTML transition:true"
                _="on click remove .slide-back from <html/>">
                &#8594;
            </button>
        {% else %}
            <button class="stage-arrow" disabled>&#8594;</button>
        {% endif %}
    </div>

    <div class="stage-body">
        {% if stage_kind == "groups" %}
            {% include "stage_groups.html" %}
        {% elif stage_kind == "single_elimination" %}
            {% include "stage_single_elimination.html" %}
        {% endif %}
    </div>
</div>
