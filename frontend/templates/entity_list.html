<form class="entity-form" hx-post="/api/{{ entities }}" hx-target="#entity-list" hx-swap="beforeend">
    <input type="text" name="name" placeholder="Aggiungi {{ entity_label }}" required>
    <button type="submit">+</button>
</form>
<div id="entity-list">
    {% for item in items %}
    {% set hx_target = "#olympiad-badge" if entities == "olympiads" else "#entity-page" %}
    <div class="entity-element" data-id="{{ item.id }}" data-version="{{ item.version }}" hx-get="/api/{{ entities }}/{{ item.id }}" hx-target="{{ hx_target }}" hx-trigger="click">
        <div class="item">{{ item.name }}</div>
        <div class="item-icons">
            <button class="item-rename" aria-label="Rename" hx-get="/api/{{ entities }}/{{ item.id }}/edit" hx-target="closest .entity-element" hx-swap="outerHTML" hx-vals='{"version": {{ item.version }}}' hx-trigger="click consume"></button>
            <button class="item-delete" aria-label="Delete" hx-delete="/api/{{ entities }}/{{ item.id }}" hx-target="closest .entity-element" hx-swap="outerHTML" hx-vals='{"version": {{ item.version }}}' hx-confirm="Sei sicuro di voler eliminare {{ item.name }}?" hx-trigger="click consume"></button>
        </div>
    </div>
    {% endfor %}
</div>
